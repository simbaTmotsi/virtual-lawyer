{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{Chart as ChartJS,registerables}from'chart.js';import{Line,Bar,Pie,Radar}from'react-chartjs-2';// Register all the Chart.js components we need\nimport{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(...registerables);const ChartComponent=_ref=>{let{type='bar',data,options={}}=_ref;const chartRef=useRef(null);// Cleanup chart instance on unmount or when chart type/data changes\nuseEffect(()=>{// Create a ref to the current chart for cleanup\nconst currentChartRef=chartRef.current;return()=>{if(currentChartRef){currentChartRef.destroy();}};},[type,data]);// Set default options based on dark/light mode\nconst defaultOptions={responsive:true,maintainAspectRatio:true,plugins:{legend:{labels:{color:document.documentElement.classList.contains('dark')?'#9ca3af':'#6b7280'}},tooltip:{backgroundColor:document.documentElement.classList.contains('dark')?'#1f2937':'#ffffff',titleColor:document.documentElement.classList.contains('dark')?'#f9fafb':'#111827',bodyColor:document.documentElement.classList.contains('dark')?'#e5e7eb':'#374151',borderColor:document.documentElement.classList.contains('dark')?'#374151':'#e5e7eb',borderWidth:1}},scales:type!=='pie'&&type!=='radar'?{x:{ticks:{color:document.documentElement.classList.contains('dark')?'#9ca3af':'#6b7280'},grid:{color:document.documentElement.classList.contains('dark')?'#374151':'#e5e7eb'}},y:{ticks:{color:document.documentElement.classList.contains('dark')?'#9ca3af':'#6b7280'},grid:{color:document.documentElement.classList.contains('dark')?'#374151':'#e5e7eb'}}}:{}};// Merge default options with passed options\nconst mergedOptions={...defaultOptions,...options};// Ensure we have valid data to prevent errors\nif(!data||!data.datasets||!data.labels){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64 bg-gray-100 dark:bg-gray-700 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No data available\"})});}// Render appropriate chart based on type\nswitch(type){case'line':return/*#__PURE__*/_jsx(Line,{ref:chartRef,data:data,options:mergedOptions,redraw:true});case'bar':return/*#__PURE__*/_jsx(Bar,{ref:chartRef,data:data,options:mergedOptions,redraw:true});case'pie':return/*#__PURE__*/_jsx(Pie,{ref:chartRef,data:data,options:mergedOptions,redraw:true});case'radar':return/*#__PURE__*/_jsx(Radar,{ref:chartRef,data:data,options:mergedOptions,redraw:true});default:return/*#__PURE__*/_jsx(Bar,{ref:chartRef,data:data,options:mergedOptions,redraw:true});}};export default ChartComponent;","map":{"version":3,"names":["React","useRef","useEffect","Chart","ChartJS","registerables","Line","Bar","Pie","Radar","jsx","_jsx","register","ChartComponent","_ref","type","data","options","chartRef","currentChartRef","current","destroy","defaultOptions","responsive","maintainAspectRatio","plugins","legend","labels","color","document","documentElement","classList","contains","tooltip","backgroundColor","titleColor","bodyColor","borderColor","borderWidth","scales","x","ticks","grid","y","mergedOptions","datasets","className","children","ref","redraw"],"sources":["/Users/simbatmotsi/Documents/Projects/virtual-lawyer/frontend/src/components/charts/ChartComponent.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { Chart as ChartJS, registerables } from 'chart.js';\nimport { Line, Bar, Pie, Radar } from 'react-chartjs-2';\n\n// Register all the Chart.js components we need\nChartJS.register(...registerables);\n\nconst ChartComponent = ({ type = 'bar', data, options = {} }) => {\n  const chartRef = useRef(null);\n\n  // Cleanup chart instance on unmount or when chart type/data changes\n  useEffect(() => {\n    // Create a ref to the current chart for cleanup\n    const currentChartRef = chartRef.current;\n    \n    return () => {\n      if (currentChartRef) {\n        currentChartRef.destroy();\n      }\n    };\n  }, [type, data]);\n\n  // Set default options based on dark/light mode\n  const defaultOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      legend: {\n        labels: {\n          color: document.documentElement.classList.contains('dark') ? '#9ca3af' : '#6b7280'\n        }\n      },\n      tooltip: {\n        backgroundColor: document.documentElement.classList.contains('dark') ? '#1f2937' : '#ffffff',\n        titleColor: document.documentElement.classList.contains('dark') ? '#f9fafb' : '#111827',\n        bodyColor: document.documentElement.classList.contains('dark') ? '#e5e7eb' : '#374151',\n        borderColor: document.documentElement.classList.contains('dark') ? '#374151' : '#e5e7eb',\n        borderWidth: 1\n      }\n    },\n    scales: type !== 'pie' && type !== 'radar' ? {\n      x: {\n        ticks: {\n          color: document.documentElement.classList.contains('dark') ? '#9ca3af' : '#6b7280'\n        },\n        grid: {\n          color: document.documentElement.classList.contains('dark') ? '#374151' : '#e5e7eb'\n        }\n      },\n      y: {\n        ticks: {\n          color: document.documentElement.classList.contains('dark') ? '#9ca3af' : '#6b7280'\n        },\n        grid: {\n          color: document.documentElement.classList.contains('dark') ? '#374151' : '#e5e7eb'\n        }\n      }\n    } : {}\n  };\n\n  // Merge default options with passed options\n  const mergedOptions = { ...defaultOptions, ...options };\n\n  // Ensure we have valid data to prevent errors\n  if (!data || !data.datasets || !data.labels) {\n    return <div className=\"flex items-center justify-center h-64 bg-gray-100 dark:bg-gray-700 rounded-lg\">\n      <p className=\"text-gray-500 dark:text-gray-400\">No data available</p>\n    </div>;\n  }\n\n  // Render appropriate chart based on type\n  switch (type) {\n    case 'line':\n      return <Line ref={chartRef} data={data} options={mergedOptions} redraw={true} />;\n    case 'bar':\n      return <Bar ref={chartRef} data={data} options={mergedOptions} redraw={true} />;\n    case 'pie':\n      return <Pie ref={chartRef} data={data} options={mergedOptions} redraw={true} />;\n    case 'radar':\n      return <Radar ref={chartRef} data={data} options={mergedOptions} redraw={true} />;\n    default:\n      return <Bar ref={chartRef} data={data} options={mergedOptions} redraw={true} />;\n  }\n};\n\nexport default ChartComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}