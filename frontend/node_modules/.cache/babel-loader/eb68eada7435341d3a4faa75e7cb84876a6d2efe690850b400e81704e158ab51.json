{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{EyeIcon,PaperAirplaneIcon,CheckIcon,XMarkIcon}from'@heroicons/react/24/outline';import{formatDate,getStatusClass}from'../../utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Invoices=_ref=>{let{invoices=[],handleStatusChange=()=>{}}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold leading-tight text-gray-900 dark:text-white\",children:\"Invoices\"})}),!invoices||invoices.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-500 dark:text-gray-400\",children:\"No invoices available.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Invoice Number\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Client\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Issue Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:invoices.map(invoice=>{var _invoice$client_detai;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-primary-600 dark:text-primary-400\",children:/*#__PURE__*/_jsx(Link,{to:`/billing/invoices/${invoice.id}`,className:\"hover:underline\",children:invoice.invoice_number})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\",children:((_invoice$client_detai=invoice.client_detail)===null||_invoice$client_detai===void 0?void 0:_invoice$client_detai.full_name)||'Unknown Client'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:formatDate(invoice.issue_date)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:formatDate(invoice.due_date)}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\",children:[\"$\",parseFloat(invoice.total_amount).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusClass(invoice.status)}`,children:invoice.status_display})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(Link,{to:`/billing/invoices/${invoice.id}`,className:\"text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-300\",title:\"View\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5\"})}),invoice.status==='draft'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusChange(invoice.id,'sent'),className:\"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300\",title:\"Mark as Sent\",children:/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-5 w-5\"})}),(invoice.status==='sent'||invoice.status==='overdue')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusChange(invoice.id,'paid'),className:\"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300\",title:\"Mark as Paid\",children:/*#__PURE__*/_jsx(CheckIcon,{className:\"h-5 w-5\"})}),invoice.status!=='void'&&invoice.status!=='paid'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusChange(invoice.id,'void'),className:\"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300\",title:\"Void Invoice\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-5 w-5\"})})]})})]},invoice.id);})})]})})]})});};export default Invoices;","map":{"version":3,"names":["React","Link","EyeIcon","PaperAirplaneIcon","CheckIcon","XMarkIcon","formatDate","getStatusClass","jsx","_jsx","jsxs","_jsxs","Invoices","_ref","invoices","handleStatusChange","className","children","length","scope","map","invoice","_invoice$client_detai","to","id","invoice_number","client_detail","full_name","issue_date","due_date","parseFloat","total_amount","toFixed","status","status_display","title","onClick"],"sources":["/Users/simbatmotsi/Documents/Projects/virtual-lawyer/frontend/src/pages/billing/Invoices.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { EyeIcon, PaperAirplaneIcon, CheckIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { formatDate, getStatusClass } from '../../utils';\n\nconst Invoices = ({ invoices = [], handleStatusChange = () => {} }) => {\n  return (\n    <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\n      <div className=\"py-8\">\n        <div className=\"flex justify-between\">\n          <h2 className=\"text-2xl font-semibold leading-tight text-gray-900 dark:text-white\">Invoices</h2>\n        </div>\n        {!invoices || invoices.length === 0 ? (\n          <p className=\"mt-4 text-gray-500 dark:text-gray-400\">No invoices available.</p>\n        ) : (\n          <div className=\"mt-6\">\n            <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n              <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Invoice Number</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Client</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Issue Date</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Due Date</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Amount</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Status</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                {invoices.map(invoice => (\n                  <tr key={invoice.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-primary-600 dark:text-primary-400\">\n                      <Link to={`/billing/invoices/${invoice.id}`} className=\"hover:underline\">\n                        {invoice.invoice_number}\n                      </Link>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white\">\n                      {invoice.client_detail?.full_name || 'Unknown Client'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                      {formatDate(invoice.issue_date)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                      {formatDate(invoice.due_date)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\">\n                      ${parseFloat(invoice.total_amount).toFixed(2)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-center\">\n                      <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusClass(invoice.status)}`}>\n                        {invoice.status_display}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <div className=\"flex justify-end space-x-2\">\n                        <Link\n                          to={`/billing/invoices/${invoice.id}`}\n                          className=\"text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-300\"\n                          title=\"View\"\n                        >\n                          <EyeIcon className=\"h-5 w-5\" />\n                        </Link>\n                        \n                        {invoice.status === 'draft' && (\n                          <button\n                            onClick={() => handleStatusChange(invoice.id, 'sent')}\n                            className=\"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300\"\n                            title=\"Mark as Sent\"\n                          >\n                            <PaperAirplaneIcon className=\"h-5 w-5\" />\n                          </button>\n                        )}\n                        \n                        {(invoice.status === 'sent' || invoice.status === 'overdue') && (\n                          <button\n                            onClick={() => handleStatusChange(invoice.id, 'paid')}\n                            className=\"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300\"\n                            title=\"Mark as Paid\"\n                          >\n                            <CheckIcon className=\"h-5 w-5\" />\n                          </button>\n                        )}\n                        \n                        {invoice.status !== 'void' && invoice.status !== 'paid' && (\n                          <button\n                            onClick={() => handleStatusChange(invoice.id, 'void')}\n                            className=\"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300\"\n                            title=\"Void Invoice\"\n                          >\n                            <XMarkIcon className=\"h-5 w-5\" />\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Invoices;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}