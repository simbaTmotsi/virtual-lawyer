{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link,useParams,useNavigate}from'react-router-dom';import{ArrowLeftIcon,PrinterIcon,EnvelopeIcon,CheckIcon,XMarkIcon,PaperAirplaneIcon,ArrowPathIcon}from'@heroicons/react/24/outline';import apiRequest from'../../utils/api';import{toast}from'../../utils/notification';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InvoiceDetail=()=>{var _invoice$client_detai,_invoice$client_detai2,_invoice$client_detai3;const{id}=useParams();const navigate=useNavigate();const[invoice,setInvoice]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchInvoiceDetails=useCallback(async()=>{try{setLoading(true);const data=await apiRequest(`/api/billing/invoices/${id}/`);setInvoice(data);setError(null);}catch(err){console.error('Failed to fetch invoice details:',err);setError('Failed to load invoice details. Please try again.');}finally{setLoading(false);}},[id]);useEffect(()=>{fetchInvoiceDetails();},[id,fetchInvoiceDetails]);const handleStatusChange=async newStatus=>{try{let action;switch(newStatus){case'sent':action='mark_as_sent';break;case'paid':action='mark_as_paid';break;case'void':action='void';break;default:console.error('Unknown status:',newStatus);return;}await apiRequest(`/api/billing/invoices/${id}/${action}/`,'POST');// Refresh invoice data\nfetchInvoiceDetails();toast.success(`Invoice marked as ${newStatus}`);}catch(err){console.error(`Failed to mark invoice as ${newStatus}:`,err);toast.error(`Failed to update invoice status. Please try again.`);}};const formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);return new Intl.DateTimeFormat('en-US',{year:'numeric',month:'short',day:'numeric'}).format(date);};const formatCurrency=amount=>{return`$${parseFloat(amount).toFixed(2)}`;};const getStatusClass=status=>{switch(status){case'draft':return'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';case'sent':return'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';case'paid':return'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';case'overdue':return'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';case'void':return'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';default:return'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';}};const handlePrint=()=>{window.print();};// TODO: Implement actual email sending functionality\nconst handleSendEmail=()=>{toast.info('Email functionality not implemented yet.');};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-lg\",children:error}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/billing/invoices'),className:\"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"-ml-1 mr-2 h-5 w-5\"}),\"Back to Invoices\"]})]});}if(!invoice){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 text-lg\",children:\"Invoice not found\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/billing/invoices'),className:\"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"-ml-1 mr-2 h-5 w-5\"}),\"Back to Invoices\"]})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/billing/invoices\",className:\"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center mb-2\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-1\"}),\" Back to Invoices\"]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-semibold text-gray-900 dark:text-white\",children:[\"Invoice #\",invoice.invoice_number]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${getStatusClass(invoice.status)}`,children:invoice.status_display})}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchInvoiceDetails,className:\"inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\",children:/*#__PURE__*/_jsx(ArrowPathIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsxs(\"button\",{onClick:handlePrint,className:\"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\",children:[/*#__PURE__*/_jsx(PrinterIcon,{className:\"h-4 w-4 mr-1\"}),\"Print\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSendEmail,className:\"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\",children:[/*#__PURE__*/_jsx(EnvelopeIcon,{className:\"h-4 w-4 mr-1\"}),\"Email\"]}),invoice.status==='draft'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleStatusChange('sent'),className:\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-4 w-4 mr-1\"}),\"Mark as Sent\"]}),(invoice.status==='sent'||invoice.status==='overdue')&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleStatusChange('paid'),className:\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700\",children:[/*#__PURE__*/_jsx(CheckIcon,{className:\"h-4 w-4 mr-1\"}),\"Mark as Paid\"]}),invoice.status!=='void'&&invoice.status!=='paid'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleStatusChange('void'),className:\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700\",children:[/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4 mr-1\"}),\"Void Invoice\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-700 dark:text-gray-300\",children:\"From\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Your Law Firm\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"123 Legal Street\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Suite 456\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Lawyer City, ST 12345\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"legal@example.com\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:text-right\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-700 dark:text-gray-300\",children:\"To\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:((_invoice$client_detai=invoice.client_detail)===null||_invoice$client_detai===void 0?void 0:_invoice$client_detai.full_name)||'Unknown Client'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:((_invoice$client_detai2=invoice.client_detail)===null||_invoice$client_detai2===void 0?void 0:_invoice$client_detai2.address)||'No address on file'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:((_invoice$client_detai3=invoice.client_detail)===null||_invoice$client_detai3===void 0?void 0:_invoice$client_detai3.email)||'No email on file'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Invoice Number\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:invoice.invoice_number})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Issue Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:formatDate(invoice.issue_date)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-900 dark:text-white\",children:formatDate(invoice.due_date)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-4\",children:\"Time Entries\"}),invoice.time_entries&&invoice.time_entries.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Staff\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Hours\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Rate\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Amount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:invoice.time_entries.map(entry=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:formatDate(entry.date)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-500 dark:text-gray-300\",children:entry.description}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:entry.user_detail?`${entry.user_detail.first_name} ${entry.user_detail.last_name}`:'Unknown'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\",children:parseFloat(entry.hours).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\",children:formatCurrency(entry.rate)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\",children:formatCurrency(entry.amount)})]},entry.id))})]})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No time entries for this invoice.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-4\",children:\"Expenses\"}),invoice.expenses&&invoice.expenses.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Amount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:invoice.expenses.map(expense=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:formatDate(expense.date)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-500 dark:text-gray-300\",children:expense.description}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\",children:formatCurrency(expense.amount)})]},expense.id))})]})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No expenses for this invoice.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full md:w-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Subtotal:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 dark:text-white\",children:formatCurrency(invoice.total_amount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Tax:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 dark:text-white\",children:\"$0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 text-lg font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 dark:text-white\",children:\"Total:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 dark:text-white\",children:formatCurrency(invoice.total_amount)})]})]})}),invoice.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 whitespace-pre-wrap\",children:invoice.notes})]})]})]})]});};export default InvoiceDetail;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useParams","useNavigate","ArrowLeftIcon","PrinterIcon","EnvelopeIcon","CheckIcon","XMarkIcon","PaperAirplaneIcon","ArrowPathIcon","apiRequest","toast","jsx","_jsx","jsxs","_jsxs","InvoiceDetail","_invoice$client_detai","_invoice$client_detai2","_invoice$client_detai3","id","navigate","invoice","setInvoice","loading","setLoading","error","setError","fetchInvoiceDetails","data","err","console","handleStatusChange","newStatus","action","success","formatDate","dateString","date","Date","Intl","DateTimeFormat","year","month","day","format","formatCurrency","amount","parseFloat","toFixed","getStatusClass","status","handlePrint","window","print","handleSendEmail","info","className","children","onClick","to","invoice_number","status_display","client_detail","full_name","address","email","issue_date","due_date","time_entries","length","scope","map","entry","description","user_detail","first_name","last_name","hours","rate","expenses","expense","total_amount","notes"],"sources":["/Users/simbatmotsi/Documents/Projects/virtual-lawyer/frontend/src/pages/billing/InvoiceDetail.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport { \n  ArrowLeftIcon, \n  PrinterIcon, \n  EnvelopeIcon, \n  CheckIcon,\n  XMarkIcon,\n  PaperAirplaneIcon,\n  ArrowPathIcon\n} from '@heroicons/react/24/outline';\nimport apiRequest from '../../utils/api';\nimport { toast } from '../../utils/notification';\n\nconst InvoiceDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [invoice, setInvoice] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchInvoiceDetails = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await apiRequest(`/api/billing/invoices/${id}/`);\n      setInvoice(data);\n      setError(null);\n    } catch (err) {\n      console.error('Failed to fetch invoice details:', err);\n      setError('Failed to load invoice details. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    fetchInvoiceDetails();\n  }, [id, fetchInvoiceDetails]);\n\n  const handleStatusChange = async (newStatus) => {\n    try {\n      let action;\n      switch (newStatus) {\n        case 'sent':\n          action = 'mark_as_sent';\n          break;\n        case 'paid':\n          action = 'mark_as_paid';\n          break;\n        case 'void':\n          action = 'void';\n          break;\n        default:\n          console.error('Unknown status:', newStatus);\n          return;\n      }\n      \n      await apiRequest(`/api/billing/invoices/${id}/${action}/`, 'POST');\n      \n      // Refresh invoice data\n      fetchInvoiceDetails();\n      \n      toast.success(`Invoice marked as ${newStatus}`);\n    } catch (err) {\n      console.error(`Failed to mark invoice as ${newStatus}:`, err);\n      toast.error(`Failed to update invoice status. Please try again.`);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('en-US', { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric' \n    }).format(date);\n  };\n\n  const formatCurrency = (amount) => {\n    return `$${parseFloat(amount).toFixed(2)}`;\n  };\n\n  const getStatusClass = (status) => {\n    switch (status) {\n      case 'draft': return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n      case 'sent': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\n      case 'paid': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\n      case 'overdue': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\n      case 'void': return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n    }\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  // TODO: Implement actual email sending functionality\n  const handleSendEmail = () => {\n    toast.info('Email functionality not implemented yet.');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-red-500 text-lg\">{error}</p>\n        <button\n          onClick={() => navigate('/billing/invoices')}\n          className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700\"\n        >\n          <ArrowLeftIcon className=\"-ml-1 mr-2 h-5 w-5\" />\n          Back to Invoices\n        </button>\n      </div>\n    );\n  }\n\n  if (!invoice) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-gray-500 dark:text-gray-400 text-lg\">Invoice not found</p>\n        <button\n          onClick={() => navigate('/billing/invoices')}\n          className=\"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700\"\n        >\n          <ArrowLeftIcon className=\"-ml-1 mr-2 h-5 w-5\" />\n          Back to Invoices\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Header with actions */}\n      <div className=\"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center\">\n        <div>\n          <Link to=\"/billing/invoices\" className=\"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center mb-2\">\n            <ArrowLeftIcon className=\"h-4 w-4 mr-1\" /> Back to Invoices\n          </Link>\n          <h2 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">Invoice #{invoice.invoice_number}</h2>\n        </div>\n        <div className=\"flex space-x-3\">\n          {/* Status badge */}\n          <div className=\"flex items-center\">\n            <span className={`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${getStatusClass(invoice.status)}`}>\n              {invoice.status_display}\n            </span>\n          </div>\n          \n          {/* Refresh button */}\n          <button\n            onClick={fetchInvoiceDetails}\n            className=\"inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\"\n          >\n            <ArrowPathIcon className=\"h-4 w-4\" />\n          </button>\n          \n          {/* Print button */}\n          <button\n            onClick={handlePrint}\n            className=\"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\"\n          >\n            <PrinterIcon className=\"h-4 w-4 mr-1\" />\n            Print\n          </button>\n          \n          {/* Email button */}\n          <button\n            onClick={handleSendEmail}\n            className=\"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\"\n          >\n            <EnvelopeIcon className=\"h-4 w-4 mr-1\" />\n            Email\n          </button>\n          \n          {/* Status change buttons */}\n          {invoice.status === 'draft' && (\n            <button\n              onClick={() => handleStatusChange('sent')}\n              className=\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              <PaperAirplaneIcon className=\"h-4 w-4 mr-1\" />\n              Mark as Sent\n            </button>\n          )}\n          \n          {(invoice.status === 'sent' || invoice.status === 'overdue') && (\n            <button\n              onClick={() => handleStatusChange('paid')}\n              className=\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700\"\n            >\n              <CheckIcon className=\"h-4 w-4 mr-1\" />\n              Mark as Paid\n            </button>\n          )}\n          \n          {invoice.status !== 'void' && invoice.status !== 'paid' && (\n            <button\n              onClick={() => handleStatusChange('void')}\n              className=\"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700\"\n            >\n              <XMarkIcon className=\"h-4 w-4 mr-1\" />\n              Void Invoice\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Invoice Content */}\n      <div className=\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg overflow-hidden\">\n        {/* Invoice Header */}\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <h3 className=\"text-lg font-medium text-gray-700 dark:text-gray-300\">From</h3>\n              <div className=\"mt-2\">\n                <p className=\"text-lg font-semibold text-gray-900 dark:text-white\">Your Law Firm</p>\n                <p className=\"text-gray-600 dark:text-gray-400\">123 Legal Street</p>\n                <p className=\"text-gray-600 dark:text-gray-400\">Suite 456</p>\n                <p className=\"text-gray-600 dark:text-gray-400\">Lawyer City, ST 12345</p>\n                <p className=\"text-gray-600 dark:text-gray-400\">legal@example.com</p>\n              </div>\n            </div>\n            <div className=\"md:text-right\">\n              <h3 className=\"text-lg font-medium text-gray-700 dark:text-gray-300\">To</h3>\n              <div className=\"mt-2\">\n                <p className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                  {invoice.client_detail?.full_name || 'Unknown Client'}\n                </p>\n                <p className=\"text-gray-600 dark:text-gray-400\">{invoice.client_detail?.address || 'No address on file'}</p>\n                <p className=\"text-gray-600 dark:text-gray-400\">{invoice.client_detail?.email || 'No email on file'}</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6\">\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Invoice Number</h4>\n              <p className=\"text-lg font-medium text-gray-900 dark:text-white\">{invoice.invoice_number}</p>\n            </div>\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Issue Date</h4>\n              <p className=\"text-lg font-medium text-gray-900 dark:text-white\">{formatDate(invoice.issue_date)}</p>\n            </div>\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Due Date</h4>\n              <p className=\"text-lg font-medium text-gray-900 dark:text-white\">{formatDate(invoice.due_date)}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Time Entries */}\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Time Entries</h3>\n          {invoice.time_entries && invoice.time_entries.length > 0 ? (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                  <tr>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Date</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Description</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Staff</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Hours</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Rate</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Amount</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                  {invoice.time_entries.map(entry => (\n                    <tr key={entry.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                        {formatDate(entry.date)}\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-gray-500 dark:text-gray-300\">\n                        {entry.description}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                        {entry.user_detail ? `${entry.user_detail.first_name} ${entry.user_detail.last_name}` : 'Unknown'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\">\n                        {parseFloat(entry.hours).toFixed(2)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\">\n                        {formatCurrency(entry.rate)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\">\n                        {formatCurrency(entry.amount)}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <p className=\"text-gray-500 dark:text-gray-400\">No time entries for this invoice.</p>\n          )}\n        </div>\n\n        {/* Expenses */}\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Expenses</h3>\n          {invoice.expenses && invoice.expenses.length > 0 ? (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                  <tr>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Date</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Description</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Amount</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                  {invoice.expenses.map(expense => (\n                    <tr key={expense.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                        {formatDate(expense.date)}\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-gray-500 dark:text-gray-300\">\n                        {expense.description}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300 text-right\">\n                        {formatCurrency(expense.amount)}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <p className=\"text-gray-500 dark:text-gray-400\">No expenses for this invoice.</p>\n          )}\n        </div>\n\n        {/* Invoice Summary */}\n        <div className=\"p-6\">\n          <div className=\"flex flex-col items-end\">\n            <div className=\"w-full md:w-64\">\n              <div className=\"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700\">\n                <span className=\"text-gray-600 dark:text-gray-400\">Subtotal:</span>\n                <span className=\"text-gray-900 dark:text-white\">{formatCurrency(invoice.total_amount)}</span>\n              </div>\n              <div className=\"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700\">\n                <span className=\"text-gray-600 dark:text-gray-400\">Tax:</span>\n                <span className=\"text-gray-900 dark:text-white\">$0.00</span>\n              </div>\n              <div className=\"flex justify-between py-2 text-lg font-semibold\">\n                <span className=\"text-gray-900 dark:text-white\">Total:</span>\n                <span className=\"text-gray-900 dark:text-white\">{formatCurrency(invoice.total_amount)}</span>\n              </div>\n            </div>\n          </div>\n          \n          {/* Notes */}\n          {invoice.notes && (\n            <div className=\"mt-8\">\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Notes</h3>\n              <p className=\"text-gray-600 dark:text-gray-400 whitespace-pre-wrap\">{invoice.notes}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InvoiceDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}