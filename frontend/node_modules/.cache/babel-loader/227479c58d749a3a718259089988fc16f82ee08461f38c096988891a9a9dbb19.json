{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import{ArrowLeftIcon,DocumentIcon,TrashIcon,ArrowDownTrayIcon,PencilIcon,BookOpenIcon,UserIcon,FolderIcon}from'@heroicons/react/24/outline';import apiRequest from'../../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DocumentDetails=()=>{const{id}=useParams();const navigate=useNavigate();const[document,setDocument]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showDeleteModal,setShowDeleteModal]=useState(false);useEffect(()=>{const fetchDocumentDetails=async()=>{try{setLoading(true);const response=await apiRequest(`/api/documents/${id}/`);setDocument(response);setError(null);}catch(err){console.error('Failed to fetch document details:',err);setError('Failed to load document details. Please try again.');}finally{setLoading(false);}};if(id){fetchDocumentDetails();}},[id]);const handleDelete=async()=>{try{await apiRequest(`/api/documents/${id}/`,'DELETE');navigate('/documents');}catch(err){console.error('Failed to delete document:',err);setError('Failed to delete document. Please try again.');}setShowDeleteModal(false);};const formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString();};const getFileIcon=()=>{if(!document)return null;const extension=document.name.split('.').pop().toLowerCase();let iconClass='text-gray-500';// Return appropriate icon class based on file type\nswitch(extension){case'pdf':iconClass='text-red-500';break;case'doc':case'docx':iconClass='text-blue-500';break;case'xls':case'xlsx':iconClass='text-green-500';break;case'jpg':case'jpeg':case'png':iconClass='text-purple-500';break;default:iconClass='text-gray-500';}return/*#__PURE__*/_jsx(DocumentIcon,{className:`h-12 w-12 ${iconClass}`});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-lg\",children:error})});}if(!document){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10 text-gray-600 dark:text-gray-400\",children:\"Document not found.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Link,{to:\"/documents\",className:\"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center mb-2\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-1\"}),\" Back to Documents\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-900 dark:text-white\",children:\"Document Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"a\",{href:document.file,download:true,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(ArrowDownTrayIcon,{className:\"h-4 w-4 mr-2\"}),\" Download\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDeleteModal(true),className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-2\"}),\" Delete\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center p-6 bg-gray-50 dark:bg-gray-700 rounded-lg\",children:[getFileIcon(),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-4 text-lg font-medium text-gray-900 dark:text-white\",children:document.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:document.file_size||'N/A'}),document.file&&document.name.match(/\\.(jpg|jpeg|png|gif)$/i)&&/*#__PURE__*/_jsx(\"img\",{src:document.file,alt:document.name,className:\"mt-4 max-w-full h-auto rounded-md shadow\"}),document.file&&document.name.match(/\\.(pdf)$/i)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 w-full\",children:/*#__PURE__*/_jsx(\"a\",{href:document.file,target:\"_blank\",rel:\"noreferrer\",className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700\",children:\"View PDF\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"Document Information\"}),/*#__PURE__*/_jsxs(\"dl\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 md:col-span-2\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Description\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900 dark:text-white whitespace-pre-wrap\",children:document.description||'No description provided.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"h-5 w-5 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Uploaded\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-sm text-gray-900 dark:text-white\",children:formatDate(document.uploaded_at)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"h-5 w-5 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Last Modified\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-sm text-gray-900 dark:text-white\",children:formatDate(document.updated_at)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserIcon,{className:\"h-5 w-5 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Uploaded By\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-sm text-gray-900 dark:text-white\",children:document.uploaded_by_name||'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FolderIcon,{className:\"h-5 w-5 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Associated Case\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-sm text-gray-900 dark:text-white\",children:document.case?/*#__PURE__*/_jsx(Link,{to:`/cases/${document.case}`,className:\"text-primary-600 dark:text-primary-400 hover:underline\",children:document.case_title||`Case #${document.case}`}):'Not associated with a case'})]})]}),document.doc_type&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(DocumentIcon,{className:\"h-5 w-5 mr-2 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 dark:text-gray-400\",children:\"Document Type\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-sm text-gray-900 dark:text-white capitalize\",children:document.doc_type})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-6 border-t border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-4\",children:\"Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-3\",children:/*#__PURE__*/_jsxs(Link,{to:`/documents/${id}/edit`,className:\"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-2\"}),\" Edit Document\"]})})]})]})]}),showDeleteModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full shadow-xl\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-4\",children:\"Confirm Delete\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 mb-6\",children:[\"Are you sure you want to delete the document \\\"\",document.name,\"\\\"? This action cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteModal(false),className:\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700\",children:\"Delete\"})]})]})})]});};export default DocumentDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","ArrowLeftIcon","DocumentIcon","TrashIcon","ArrowDownTrayIcon","PencilIcon","BookOpenIcon","UserIcon","FolderIcon","apiRequest","jsx","_jsx","jsxs","_jsxs","DocumentDetails","id","navigate","document","setDocument","loading","setLoading","error","setError","showDeleteModal","setShowDeleteModal","fetchDocumentDetails","response","err","console","handleDelete","formatDate","dateString","Date","toLocaleDateString","getFileIcon","extension","name","split","pop","toLowerCase","iconClass","className","children","to","href","file","download","onClick","file_size","match","src","alt","target","rel","description","uploaded_at","updated_at","uploaded_by_name","case","case_title","doc_type"],"sources":["/Users/simbatmotsi/Documents/Projects/virtual-lawyer/frontend/src/pages/documents/DocumentDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { \n  ArrowLeftIcon, \n  DocumentIcon, \n  TrashIcon, \n  ArrowDownTrayIcon,\n  PencilIcon,\n  BookOpenIcon,\n  UserIcon,\n  FolderIcon\n} from '@heroicons/react/24/outline';\nimport apiRequest from '../../utils/api';\n\nconst DocumentDetails = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [document, setDocument] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  useEffect(() => {\n    const fetchDocumentDetails = async () => {\n      try {\n        setLoading(true);\n        const response = await apiRequest(`/api/documents/${id}/`);\n        setDocument(response);\n        setError(null);\n      } catch (err) {\n        console.error('Failed to fetch document details:', err);\n        setError('Failed to load document details. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (id) {\n      fetchDocumentDetails();\n    }\n  }, [id]);\n\n  const handleDelete = async () => {\n    try {\n      await apiRequest(`/api/documents/${id}/`, 'DELETE');\n      navigate('/documents');\n    } catch (err) {\n      console.error('Failed to delete document:', err);\n      setError('Failed to delete document. Please try again.');\n    }\n    setShowDeleteModal(false);\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  const getFileIcon = () => {\n    if (!document) return null;\n    \n    const extension = document.name.split('.').pop().toLowerCase();\n    let iconClass = 'text-gray-500';\n    \n    // Return appropriate icon class based on file type\n    switch (extension) {\n      case 'pdf':\n        iconClass = 'text-red-500';\n        break;\n      case 'doc':\n      case 'docx':\n        iconClass = 'text-blue-500';\n        break;\n      case 'xls':\n      case 'xlsx':\n        iconClass = 'text-green-500';\n        break;\n      case 'jpg':\n      case 'jpeg':\n      case 'png':\n        iconClass = 'text-purple-500';\n        break;\n      default:\n        iconClass = 'text-gray-500';\n    }\n    \n    return <DocumentIcon className={`h-12 w-12 ${iconClass}`} />;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-red-500 text-lg\">{error}</p>\n      </div>\n    );\n  }\n\n  if (!document) {\n    return (\n      <div className=\"text-center py-10 text-gray-600 dark:text-gray-400\">\n        Document not found.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg p-6\">\n      <div className=\"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center\">\n        <div>\n          <Link to=\"/documents\" className=\"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center mb-2\">\n            <ArrowLeftIcon className=\"h-4 w-4 mr-1\" /> Back to Documents\n          </Link>\n          <h2 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">Document Details</h2>\n        </div>\n        <div className=\"flex space-x-2\">\n          <a \n            href={document.file} \n            download\n            className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700\"\n          >\n            <ArrowDownTrayIcon className=\"h-4 w-4 mr-2\" /> Download\n          </a>\n          <button\n            onClick={() => setShowDeleteModal(true)}\n            className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700\"\n          >\n            <TrashIcon className=\"h-4 w-4 mr-2\" /> Delete\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n        {/* Document Preview/Icon */}\n        <div className=\"flex flex-col items-center justify-center p-6 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n          {getFileIcon()}\n          <h3 className=\"mt-4 text-lg font-medium text-gray-900 dark:text-white\">{document.name}</h3>\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">{document.file_size || 'N/A'}</p>\n          \n          {/* Simple document preview based on type */}\n          {document.file && document.name.match(/\\.(jpg|jpeg|png|gif)$/i) && (\n            <img src={document.file} alt={document.name} className=\"mt-4 max-w-full h-auto rounded-md shadow\" />\n          )}\n          \n          {document.file && document.name.match(/\\.(pdf)$/i) && (\n            <div className=\"mt-4 w-full\">\n              <a \n                href={document.file} \n                target=\"_blank\" \n                rel=\"noreferrer\"\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700\"\n              >\n                View PDF\n              </a>\n            </div>\n          )}\n        </div>\n\n        {/* Document Metadata */}\n        <div className=\"md:col-span-2 space-y-6\">\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Document Information</h3>\n            <dl className=\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-sm\">\n              <div className=\"col-span-1 md:col-span-2\">\n                <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Description</dt>\n                <dd className=\"mt-1 text-sm text-gray-900 dark:text-white whitespace-pre-wrap\">\n                  {document.description || 'No description provided.'}\n                </dd>\n              </div>\n              \n              <div className=\"flex items-center\">\n                <BookOpenIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Uploaded</dt>\n                  <dd className=\"text-sm text-gray-900 dark:text-white\">{formatDate(document.uploaded_at)}</dd>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center\">\n                <BookOpenIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Last Modified</dt>\n                  <dd className=\"text-sm text-gray-900 dark:text-white\">{formatDate(document.updated_at)}</dd>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center\">\n                <UserIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Uploaded By</dt>\n                  <dd className=\"text-sm text-gray-900 dark:text-white\">\n                    {document.uploaded_by_name || 'N/A'}\n                  </dd>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center\">\n                <FolderIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                <div>\n                  <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Associated Case</dt>\n                  <dd className=\"text-sm text-gray-900 dark:text-white\">\n                    {document.case ? (\n                      <Link to={`/cases/${document.case}`} className=\"text-primary-600 dark:text-primary-400 hover:underline\">\n                        {document.case_title || `Case #${document.case}`}\n                      </Link>\n                    ) : (\n                      'Not associated with a case'\n                    )}\n                  </dd>\n                </div>\n              </div>\n              \n              {document.doc_type && (\n                <div className=\"flex items-center\">\n                  <DocumentIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\n                  <div>\n                    <dt className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Document Type</dt>\n                    <dd className=\"text-sm text-gray-900 dark:text-white capitalize\">\n                      {document.doc_type}\n                    </dd>\n                  </div>\n                </div>\n              )}\n            </dl>\n          </div>\n\n          {/* Actions */}\n          <div className=\"pt-6 border-t border-gray-200 dark:border-gray-700\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Actions</h3>\n            <div className=\"flex flex-wrap gap-3\">\n              <Link\n                to={`/documents/${id}/edit`}\n                className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700\"\n              >\n                <PencilIcon className=\"h-4 w-4 mr-2\" /> Edit Document\n              </Link>\n              \n              {/* Additional actions could be added here */}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      {showDeleteModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full shadow-xl\">\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Confirm Delete</h3>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-6\">\n              Are you sure you want to delete the document \"{document.name}\"? This action cannot be undone.\n            </p>\n            <div className=\"flex justify-end space-x-2\">\n              <button\n                onClick={() => setShowDeleteModal(false)}\n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleDelete}\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DocumentDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}