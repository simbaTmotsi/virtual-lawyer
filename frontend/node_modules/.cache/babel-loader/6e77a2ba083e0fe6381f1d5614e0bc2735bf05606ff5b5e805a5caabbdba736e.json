{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{PlusIcon,EyeIcon}from'@heroicons/react/24/outline';import apiRequest from'../../utils/api';// Import API utility\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClientsList=()=>{const[clients,setClients]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchClients=async()=>{try{setLoading(true);const response=await apiRequest('/api/clients/');// Adjust endpoint as needed\nsetClients(response||[]);// Assuming response is an array of clients\nsetError(null);}catch(err){setError(err.message||'Failed to fetch clients.');console.error('Failed to fetch clients:',err);setClients([]);// Ensure clients is an array in case of error\n}finally{setLoading(false);}};fetchClients();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500 text-lg\",children:[\"Error: \",error]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Could not load client data. Please try again later.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-900 dark:text-white\",children:\"Clients List\"}),/*#__PURE__*/_jsxs(Link,{to:\"/clients/new\",className:\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700 focus:outline-none\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add New Client\"]})]}),clients.length===0&&!loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10 bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"mx-auto h-12 w-12 text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{vectorEffect:\"non-scaling-stroke\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"No clients\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:\"Get started by creating a new client.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(Link,{to:\"/clients/new\",className:\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"-ml-1 mr-2 h-5 w-5\",\"aria-hidden\":\"true\"}),\"New Client\"]})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"relative px-6 py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"View\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:clients.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400\",children:\"No clients found.\"})}):clients.map(client=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\",children:[client.first_name,\" \",client.last_name]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:client.email}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:client.phone||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(Link,{to:`/clients/${client.id}`,className:\"text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-200 flex items-center justify-end\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5 mr-1\"}),\" View\"]})})]},client.id))})]})})})]});};export default ClientsList;","map":{"version":3,"names":["React","useState","useEffect","Link","PlusIcon","EyeIcon","apiRequest","jsx","_jsx","jsxs","_jsxs","ClientsList","clients","setClients","loading","setLoading","error","setError","fetchClients","response","err","message","console","className","children","to","length","fill","viewBox","stroke","vectorEffect","strokeLinecap","strokeLinejoin","strokeWidth","d","scope","colSpan","map","client","first_name","last_name","email","phone","id"],"sources":["/Users/simbatmotsi/Documents/Projects/virtual-lawyer/frontend/src/pages/clients/ClientsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { PlusIcon, EyeIcon } from '@heroicons/react/24/outline';\nimport apiRequest from '../../utils/api'; // Import API utility\n\nconst ClientsList = () => {\n  const [clients, setClients] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchClients = async () => {\n      try {\n        setLoading(true);\n        const response = await apiRequest('/api/clients/'); // Adjust endpoint as needed\n        setClients(response || []); // Assuming response is an array of clients\n        setError(null);\n      } catch (err) {\n        setError(err.message || 'Failed to fetch clients.');\n        console.error('Failed to fetch clients:', err);\n        setClients([]); // Ensure clients is an array in case of error\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchClients();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-red-500 text-lg\">Error: {error}</p>\n        <p className=\"text-gray-600 dark:text-gray-400\">Could not load client data. Please try again later.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">Clients List</h2>\n        <Link\n          to=\"/clients/new\"\n          className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700 focus:outline-none\"\n        >\n          <PlusIcon className=\"h-4 w-4 mr-2\" />\n          Add New Client\n        </Link>\n      </div>\n\n      {clients.length === 0 && !loading ? (\n        <div className=\"text-center py-10 bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg\">\n          <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n            <path vectorEffect=\"non-scaling-stroke\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\" />\n          </svg>\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">No clients</h3>\n          <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">Get started by creating a new client.</p>\n          <div className=\"mt-6\">\n            <Link\n              to=\"/clients/new\"\n              className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n            >\n              <PlusIcon className=\"-ml-1 mr-2 h-5 w-5\" aria-hidden=\"true\" />\n              New Client\n            </Link>\n          </div>\n        </div>\n      ) : (\n        <div className=\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n              <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Name</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Email</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Phone</th>\n                  <th scope=\"col\" className=\"relative px-6 py-3\">\n                    <span className=\"sr-only\">View</span>\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                {clients.length === 0 ? (\n                  <tr>\n                    <td colSpan=\"5\" className=\"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400\">\n                      No clients found.\n                    </td>\n                  </tr>\n                ) : (\n                  clients.map((client) => (\n                    <tr key={client.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">{client.first_name} {client.last_name}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{client.email}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{client.phone || 'N/A'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <Link to={`/clients/${client.id}`} className=\"text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-200 flex items-center justify-end\">\n                          <EyeIcon className=\"h-5 w-5 mr-1\" /> View\n                        </Link>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ClientsList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}