{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{DocumentIcon,PlusIcon,FolderIcon,MagnifyingGlassIcon,ArrowDownTrayIcon}from'@heroicons/react/24/outline';import apiRequest from'../../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DocumentsList=()=>{const[documents,setDocuments]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[filter,setFilter]=useState({caseId:'',clientId:'',docType:''});const[cases,setCases]=useState([]);const[clients,setClients]=useState([]);useEffect(()=>{const fetchDocuments=async()=>{try{setLoading(true);let url='/api/documents/';// Add query parameters for filtering\nconst params=new URLSearchParams();if(filter.caseId)params.append('caseId',filter.caseId);if(filter.clientId)params.append('clientId',filter.clientId);if(filter.docType)params.append('docType',filter.docType);if(searchTerm)params.append('search',searchTerm);if(params.toString()){url+=`?${params.toString()}`;}const response=await apiRequest(url);setDocuments(response||[]);setError(null);}catch(err){console.error('Failed to fetch documents:',err);setError('Failed to load documents. Please try again.');}finally{setLoading(false);}};const fetchFilters=async()=>{try{// Fetch cases and clients for filters\nconst[casesResponse,clientsResponse]=await Promise.all([apiRequest('/api/cases/'),apiRequest('/api/clients/')]);setCases(casesResponse||[]);setClients(clientsResponse||[]);}catch(err){console.error('Failed to fetch filter data:',err);}};fetchDocuments();fetchFilters();},[filter,searchTerm]);const handleSearchChange=e=>{setSearchTerm(e.target.value);};const handleFilterChange=e=>{const{name,value}=e.target;setFilter(prev=>({...prev,[name]:value}));};const clearFilters=()=>{setFilter({caseId:'',clientId:'',docType:''});setSearchTerm('');};const getFileIcon=filename=>{const extension=filename.split('.').pop().toLowerCase();// Return appropriate icon class based on file type\nswitch(extension){case'pdf':return'text-red-500';case'doc':case'docx':return'text-blue-500';case'xls':case'xlsx':return'text-green-500';case'jpg':case'jpeg':case'png':return'text-purple-500';default:return'text-gray-500';}};const formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString();};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-lg\",children:error})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-900 dark:text-white\",children:\"Documents\"}),/*#__PURE__*/_jsxs(Link,{to:\"/documents/upload\",className:\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700 focus:outline-none\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Upload Document\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 md:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"document-search\",className:\"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\",placeholder:\"Search documents by name or description...\",value:searchTerm,onChange:handleSearchChange})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{id:\"document-filter-case\",name:\"caseId\",value:filter.caseId,onChange:handleFilterChange,className:\"block w-full pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Cases\"}),cases.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.title},c.id))]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{id:\"document-filter-client\",name:\"clientId\",value:filter.clientId,onChange:handleFilterChange,className:\"block w-full pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Clients\"}),clients.map(client=>/*#__PURE__*/_jsx(\"option\",{value:client.id,children:`${client.first_name} ${client.last_name}`},client.id))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 md:col-span-3\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"document-filter-type\",name:\"docType\",value:filter.docType,onChange:handleFilterChange,className:\"block w-full pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Document Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"legal\",children:\"Legal Document\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contract\",children:\"Contract\"}),/*#__PURE__*/_jsx(\"option\",{value:\"court\",children:\"Court Filing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"correspondence\",children:\"Correspondence\"}),/*#__PURE__*/_jsx(\"option\",{value:\"evidence\",children:\"Evidence\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end items-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"text-primary-600 dark:text-primary-400 hover:underline text-sm\",children:\"Clear Filters\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg overflow-hidden\",children:documents.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(FolderIcon,{className:\"h-12 w-12 mx-auto text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"No documents found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 dark:text-gray-400\",children:Object.values(filter).some(f=>f)||searchTerm?'Try adjusting your search or filters':'Get started by uploading your first document'}),!Object.values(filter).some(f=>f)&&!searchTerm&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(Link,{to:\"/documents/upload\",className:\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700 focus:outline-none\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Upload Document\"]})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Document\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Associated Case\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Uploaded By\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Uploaded Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\",children:\"Size\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"relative px-6 py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:documents.map(doc=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(DocumentIcon,{className:`h-5 w-5 mr-3 ${getFileIcon(doc.name)}`}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:`/documents/${doc.id}`,className:\"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline\",children:doc.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:doc.description?doc.description.substring(0,50)+(doc.description.length>50?'...':''):'No description'})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:doc.case?/*#__PURE__*/_jsx(Link,{to:`/cases/${doc.case}`,className:\"text-sm text-primary-600 dark:text-primary-400 hover:underline\",children:doc.case_title||`Case #${doc.case}`}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:\"Not associated\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:doc.uploaded_by_name||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:formatDate(doc.uploaded_at)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\",children:doc.file_size||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"a\",{href:doc.file,download:true,className:\"text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-200 inline-flex items-center\",children:[/*#__PURE__*/_jsx(ArrowDownTrayIcon,{className:\"h-4 w-4 mr-1\"}),\"Download\"]})})]},doc.id))})]})})})]});};export default DocumentsList;","map":{"version":3,"names":["React","useState","useEffect","Link","DocumentIcon","PlusIcon","FolderIcon","MagnifyingGlassIcon","ArrowDownTrayIcon","apiRequest","jsx","_jsx","jsxs","_jsxs","DocumentsList","documents","setDocuments","loading","setLoading","error","setError","searchTerm","setSearchTerm","filter","setFilter","caseId","clientId","docType","cases","setCases","clients","setClients","fetchDocuments","url","params","URLSearchParams","append","toString","response","err","console","fetchFilters","casesResponse","clientsResponse","Promise","all","handleSearchChange","e","target","value","handleFilterChange","name","prev","clearFilters","getFileIcon","filename","extension","split","pop","toLowerCase","formatDate","dateString","Date","toLocaleDateString","className","children","to","type","id","placeholder","onChange","map","c","title","client","first_name","last_name","onClick","length","Object","values","some","f","scope","doc","description","substring","case","case_title","uploaded_by_name","uploaded_at","file_size","href","file","download"],"sources":["/Users/simbatmotsi/Documents/Projects/virtual-lawyer/frontend/src/pages/documents/DocumentsList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { \n  DocumentIcon, \n  PlusIcon, \n  FolderIcon, \n  MagnifyingGlassIcon, \n  ArrowDownTrayIcon \n} from '@heroicons/react/24/outline';\nimport apiRequest from '../../utils/api';\n\nconst DocumentsList = () => {\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filter, setFilter] = useState({\n    caseId: '',\n    clientId: '',\n    docType: ''\n  });\n  const [cases, setCases] = useState([]);\n  const [clients, setClients] = useState([]);\n\n  useEffect(() => {\n    const fetchDocuments = async () => {\n      try {\n        setLoading(true);\n        let url = '/api/documents/';\n        \n        // Add query parameters for filtering\n        const params = new URLSearchParams();\n        if (filter.caseId) params.append('caseId', filter.caseId);\n        if (filter.clientId) params.append('clientId', filter.clientId);\n        if (filter.docType) params.append('docType', filter.docType);\n        if (searchTerm) params.append('search', searchTerm);\n        \n        if (params.toString()) {\n          url += `?${params.toString()}`;\n        }\n        \n        const response = await apiRequest(url);\n        setDocuments(response || []);\n        setError(null);\n      } catch (err) {\n        console.error('Failed to fetch documents:', err);\n        setError('Failed to load documents. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    const fetchFilters = async () => {\n      try {\n        // Fetch cases and clients for filters\n        const [casesResponse, clientsResponse] = await Promise.all([\n          apiRequest('/api/cases/'),\n          apiRequest('/api/clients/')\n        ]);\n        \n        setCases(casesResponse || []);\n        setClients(clientsResponse || []);\n      } catch (err) {\n        console.error('Failed to fetch filter data:', err);\n      }\n    };\n\n    fetchDocuments();\n    fetchFilters();\n  }, [filter, searchTerm]);\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilter(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const clearFilters = () => {\n    setFilter({\n      caseId: '',\n      clientId: '',\n      docType: ''\n    });\n    setSearchTerm('');\n  };\n\n  const getFileIcon = (filename) => {\n    const extension = filename.split('.').pop().toLowerCase();\n    \n    // Return appropriate icon class based on file type\n    switch (extension) {\n      case 'pdf':\n        return 'text-red-500';\n      case 'doc':\n      case 'docx':\n        return 'text-blue-500';\n      case 'xls':\n      case 'xlsx':\n        return 'text-green-500';\n      case 'jpg':\n      case 'jpeg':\n      case 'png':\n        return 'text-purple-500';\n      default:\n        return 'text-gray-500';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-red-500 text-lg\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">Documents</h2>\n        <Link\n          to=\"/documents/upload\"\n          className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700 focus:outline-none\"\n        >\n          <PlusIcon className=\"h-4 w-4 mr-2\" />\n          Upload Document\n        </Link>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg p-4 mb-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"col-span-1 md:col-span-2\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\n              </div>\n              <input\n                type=\"text\"\n                id=\"document-search\"\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n                placeholder=\"Search documents by name or description...\"\n                value={searchTerm}\n                onChange={handleSearchChange}\n              />\n            </div>\n          </div>\n          \n          <div>\n            <select\n              id=\"document-filter-case\"\n              name=\"caseId\"\n              value={filter.caseId}\n              onChange={handleFilterChange}\n              className=\"block w-full pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n            >\n              <option value=\"\">All Cases</option>\n              {cases.map(c => (\n                <option key={c.id} value={c.id}>{c.title}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div>\n            <select\n              id=\"document-filter-client\"\n              name=\"clientId\"\n              value={filter.clientId}\n              onChange={handleFilterChange}\n              className=\"block w-full pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n            >\n              <option value=\"\">All Clients</option>\n              {clients.map(client => (\n                <option key={client.id} value={client.id}>{`${client.first_name} ${client.last_name}`}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"col-span-1 md:col-span-3\">\n            <select\n              id=\"document-filter-type\"\n              name=\"docType\"\n              value={filter.docType}\n              onChange={handleFilterChange}\n              className=\"block w-full pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n            >\n              <option value=\"\">All Document Types</option>\n              <option value=\"legal\">Legal Document</option>\n              <option value=\"contract\">Contract</option>\n              <option value=\"court\">Court Filing</option>\n              <option value=\"correspondence\">Correspondence</option>\n              <option value=\"evidence\">Evidence</option>\n              <option value=\"other\">Other</option>\n            </select>\n          </div>\n          \n          <div className=\"flex justify-end items-center\">\n            <button\n              onClick={clearFilters}\n              className=\"text-primary-600 dark:text-primary-400 hover:underline text-sm\"\n            >\n              Clear Filters\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Documents List */}\n      <div className=\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg overflow-hidden\">\n        {documents.length === 0 ? (\n          <div className=\"p-8 text-center\">\n            <FolderIcon className=\"h-12 w-12 mx-auto text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">No documents found</h3>\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n              {Object.values(filter).some(f => f) || searchTerm \n                ? 'Try adjusting your search or filters'\n                : 'Get started by uploading your first document'}\n            </p>\n            {!Object.values(filter).some(f => f) && !searchTerm && (\n              <div className=\"mt-6\">\n                <Link\n                  to=\"/documents/upload\"\n                  className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md shadow-sm hover:bg-primary-700 focus:outline-none\"\n                >\n                  <PlusIcon className=\"h-4 w-4 mr-2\" />\n                  Upload Document\n                </Link>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n              <thead className=\"bg-gray-50 dark:bg-gray-700\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Document</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Associated Case</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Uploaded By</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Uploaded Date</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Size</th>\n                  <th scope=\"col\" className=\"relative px-6 py-3\">\n                    <span className=\"sr-only\">Actions</span>\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n                {documents.map((doc) => (\n                  <tr key={doc.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <DocumentIcon className={`h-5 w-5 mr-3 ${getFileIcon(doc.name)}`} />\n                        <div>\n                          <Link to={`/documents/${doc.id}`} className=\"text-sm font-medium text-primary-600 dark:text-primary-400 hover:underline\">{doc.name}</Link>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">{doc.description ? doc.description.substring(0, 50) + (doc.description.length > 50 ? '...' : '') : 'No description'}</p>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {doc.case ? (\n                        <Link to={`/cases/${doc.case}`} className=\"text-sm text-primary-600 dark:text-primary-400 hover:underline\">{doc.case_title || `Case #${doc.case}`}</Link>\n                      ) : (\n                        <span className=\"text-sm text-gray-500 dark:text-gray-400\">Not associated</span>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                      {doc.uploaded_by_name || 'N/A'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                      {formatDate(doc.uploaded_at)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">\n                      {doc.file_size || 'N/A'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <a \n                        href={doc.file} \n                        download\n                        className=\"text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-200 inline-flex items-center\"\n                      >\n                        <ArrowDownTrayIcon className=\"h-4 w-4 mr-1\" />\n                        Download\n                      </a>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentsList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}