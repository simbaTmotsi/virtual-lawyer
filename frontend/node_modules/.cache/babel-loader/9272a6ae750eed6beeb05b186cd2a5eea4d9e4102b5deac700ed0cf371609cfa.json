{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{ArrowLeftIcon,CheckIcon}from'@heroicons/react/24/solid';import apiRequest from'../../utils/api';// Import API utility\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewCase=()=>{const navigate=useNavigate();const[caseTitle,setCaseTitle]=useState('');const[clientId,setClientId]=useState('');const[description,setDescription]=useState('');const[caseType,setCaseType]=useState('');const[status,setStatus]=useState('open');// Default status\nconst[clients,setClients]=useState([]);const[assignedAttorneys,setAssignedAttorneys]=useState([]);// For attorney selection\nconst[selectedAttorneys,setSelectedAttorneys]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');useEffect(()=>{const fetchInitialData=async()=>{setLoading(true);try{const clientsResponse=await apiRequest('/api/clients/');setClients(clientsResponse||[]);// Assuming an endpoint to fetch users who are attorneys/paralegals\nconst usersResponse=await apiRequest('/api/users/?role=attorney&role=paralegal');// Adjust endpoint and params\nsetAssignedAttorneys(usersResponse||[]);setError('');}catch(err){console.error('Failed to fetch initial data:',err);setError('Failed to load initial data. Please try again.');}finally{setLoading(false);}};fetchInitialData();},[]);const handleSubmit=async e=>{e.preventDefault();setError('');if(!caseTitle||!clientId||!caseType||!status){setError('Please fill in all required fields: Title, Client, Type, and Status.');return;}setLoading(true);const caseData={title:caseTitle,client:clientId,// Send client ID\ndescription,case_type:caseType,status,assigned_attorneys:selectedAttorneys// Send array of attorney IDs\n// Add other fields as required by your backend API\n};try{await apiRequest('/api/cases/','POST',caseData);navigate('/cases');// Redirect to cases list on success\n}catch(err){let errorMessage='Failed to create case. Please try again.';if(err.data){const fieldErrors=Object.entries(err.data).map(_ref=>{let[field,messages]=_ref;return`${field.replace(/_/g,' ')}: ${Array.isArray(messages)?messages.join(', '):messages}`;}).join('; ');if(fieldErrors){errorMessage=fieldErrors;}else if(err.data.detail){errorMessage=err.data.detail;}}setError(errorMessage);console.error('Case creation error:',err);}finally{setLoading(false);}};const handleAttorneySelection=e=>{const selectedIds=Array.from(e.target.selectedOptions,option=>option.value);setSelectedAttorneys(selectedIds);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center mb-2\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-1\"}),\" Back\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-900 dark:text-white\",children:\"Add New Case\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"caseTitle\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[\"Case Title \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"caseTitle\",value:caseTitle,onChange:e=>setCaseTitle(e.target.value),required:true,className:\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"client\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[\"Client \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{id:\"client\",value:clientId,onChange:e=>setClientId(e.target.value),required:true,className:\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a client\"}),clients.map(client=>/*#__PURE__*/_jsxs(\"option\",{value:client.id,children:[client.first_name,\" \",client.last_name,\" (ID: \",client.id,\")\"]},client.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"caseType\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[\"Case Type \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"caseType\",value:caseType,onChange:e=>setCaseType(e.target.value),required:true,placeholder:\"e.g., Personal Injury, Corporate Law\",className:\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"status\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:[\"Status \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{id:\"status\",value:status,onChange:e=>setStatus(e.target.value),required:true,className:\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"open\",children:\"Open\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"closed\",children:\"Closed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"archived\",children:\"Archived\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"assignedAttorneys\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Assigned Staff\"}),/*#__PURE__*/_jsx(\"select\",{id:\"assignedAttorneys\",multiple:true,value:selectedAttorneys,onChange:handleAttorneySelection,className:\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white h-32\",children:assignedAttorneys.map(user=>/*#__PURE__*/_jsxs(\"option\",{value:user.id,children:[user.first_name,\" \",user.last_name,\" (\",user.role,\")\"]},user.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500 dark:text-gray-400\",children:\"Hold Ctrl (or Cmd on Mac) to select multiple staff members.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",rows:4,value:description,onChange:e=>setDescription(e.target.value),className:\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md bg-red-50 dark:bg-red-900/30 p-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600 dark:text-red-300\",children:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\",children:[loading?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(CheckIcon,{className:\"h-5 w-5 mr-2\"}),loading?'Saving...':'Save Case']})})]})]});};export default NewCase;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ArrowLeftIcon","CheckIcon","apiRequest","jsx","_jsx","jsxs","_jsxs","NewCase","navigate","caseTitle","setCaseTitle","clientId","setClientId","description","setDescription","caseType","setCaseType","status","setStatus","clients","setClients","assignedAttorneys","setAssignedAttorneys","selectedAttorneys","setSelectedAttorneys","loading","setLoading","error","setError","fetchInitialData","clientsResponse","usersResponse","err","console","handleSubmit","e","preventDefault","caseData","title","client","case_type","assigned_attorneys","errorMessage","data","fieldErrors","Object","entries","map","_ref","field","messages","replace","Array","isArray","join","detail","handleAttorneySelection","selectedIds","from","target","selectedOptions","option","value","className","children","onClick","onSubmit","htmlFor","type","id","onChange","required","first_name","last_name","placeholder","multiple","user","role","rows","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d"],"sources":["/Users/simbatmotsi/Documents/Projects/virtual-lawyer/frontend/src/pages/cases/NewCase.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ArrowLeftIcon, CheckIcon } from '@heroicons/react/24/solid';\nimport apiRequest from '../../utils/api'; // Import API utility\n\nconst NewCase = () => {\n  const navigate = useNavigate();\n  const [caseTitle, setCaseTitle] = useState('');\n  const [clientId, setClientId] = useState('');\n  const [description, setDescription] = useState('');\n  const [caseType, setCaseType] = useState('');\n  const [status, setStatus] = useState('open'); // Default status\n\n  const [clients, setClients] = useState([]);\n  const [assignedAttorneys, setAssignedAttorneys] = useState([]); // For attorney selection\n  const [selectedAttorneys, setSelectedAttorneys] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      setLoading(true);\n      try {\n        const clientsResponse = await apiRequest('/api/clients/');\n        setClients(clientsResponse || []);\n\n        // Assuming an endpoint to fetch users who are attorneys/paralegals\n        const usersResponse = await apiRequest('/api/users/?role=attorney&role=paralegal'); // Adjust endpoint and params\n        setAssignedAttorneys(usersResponse || []);\n\n        setError('');\n      } catch (err) {\n        console.error('Failed to fetch initial data:', err);\n        setError('Failed to load initial data. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchInitialData();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    if (!caseTitle || !clientId || !caseType || !status) {\n      setError('Please fill in all required fields: Title, Client, Type, and Status.');\n      return;\n    }\n    setLoading(true);\n    const caseData = {\n      title: caseTitle,\n      client: clientId, // Send client ID\n      description,\n      case_type: caseType,\n      status,\n      assigned_attorneys: selectedAttorneys, // Send array of attorney IDs\n      // Add other fields as required by your backend API\n    };\n\n    try {\n      await apiRequest('/api/cases/', 'POST', caseData);\n      navigate('/cases'); // Redirect to cases list on success\n    } catch (err) {\n      let errorMessage = 'Failed to create case. Please try again.';\n      if (err.data) {\n        const fieldErrors = Object.entries(err.data)\n          .map(([field, messages]) => `${field.replace(/_/g, ' ')}: ${Array.isArray(messages) ? messages.join(', ') : messages}`)\n          .join('; ');\n        if (fieldErrors) {\n          errorMessage = fieldErrors;\n        } else if (err.data.detail) {\n          errorMessage = err.data.detail;\n        }\n      }\n      setError(errorMessage);\n      console.error('Case creation error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAttorneySelection = (e) => {\n    const selectedIds = Array.from(e.target.selectedOptions, option => option.value);\n    setSelectedAttorneys(selectedIds);\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 shadow dark:shadow-gray-700/10 rounded-lg p-6\">\n      <div className=\"mb-6 pb-4 border-b border-gray-200 dark:border-gray-700\">\n        <button onClick={() => navigate(-1)} className=\"text-sm text-primary-600 dark:text-primary-400 hover:underline flex items-center mb-2\">\n          <ArrowLeftIcon className=\"h-4 w-4 mr-1\" /> Back\n        </button>\n        <h2 className=\"text-2xl font-semibold text-gray-900 dark:text-white\">Add New Case</h2>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Case Title */}\n        <div>\n          <label htmlFor=\"caseTitle\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Case Title <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            id=\"caseTitle\"\n            value={caseTitle}\n            onChange={(e) => setCaseTitle(e.target.value)}\n            required\n            className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n          />\n        </div>\n\n        {/* Client Selection */}\n        <div>\n          <label htmlFor=\"client\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Client <span className=\"text-red-500\">*</span>\n          </label>\n          <select\n            id=\"client\"\n            value={clientId}\n            onChange={(e) => setClientId(e.target.value)}\n            required\n            className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n          >\n            <option value=\"\">Select a client</option>\n            {clients.map(client => (\n              <option key={client.id} value={client.id}>{client.first_name} {client.last_name} (ID: {client.id})</option>\n            ))}\n          </select>\n        </div>\n\n        {/* Case Type */}\n        <div>\n          <label htmlFor=\"caseType\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Case Type <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            id=\"caseType\"\n            value={caseType}\n            onChange={(e) => setCaseType(e.target.value)}\n            required\n            placeholder=\"e.g., Personal Injury, Corporate Law\"\n            className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n          />\n        </div>\n\n        {/* Status */}\n        <div>\n          <label htmlFor=\"status\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Status <span className=\"text-red-500\">*</span>\n          </label>\n          <select\n            id=\"status\"\n            value={status}\n            onChange={(e) => setStatus(e.target.value)}\n            required\n            className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n          >\n            {/* These should match choices in your backend Case model */}\n            <option value=\"open\">Open</option>\n            <option value=\"active\">Active</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"closed\">Closed</option>\n            <option value=\"archived\">Archived</option>\n          </select>\n        </div>\n\n        {/* Assigned Attorneys */}\n        <div>\n          <label htmlFor=\"assignedAttorneys\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Assigned Staff\n          </label>\n          <select\n            id=\"assignedAttorneys\"\n            multiple\n            value={selectedAttorneys}\n            onChange={handleAttorneySelection}\n            className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white h-32\"\n          >\n            {assignedAttorneys.map(user => (\n              <option key={user.id} value={user.id}>{user.first_name} {user.last_name} ({user.role})</option>\n            ))}\n          </select>\n          <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">Hold Ctrl (or Cmd on Mac) to select multiple staff members.</p>\n        </div>\n\n        {/* Description */}\n        <div>\n          <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Description\n          </label>\n          <textarea\n            id=\"description\"\n            rows={4}\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm dark:bg-gray-700 dark:text-white\"\n          />\n        </div>\n\n        {error && (\n          <div className=\"rounded-md bg-red-50 dark:bg-red-900/30 p-3\">\n            <p className=\"text-sm text-red-600 dark:text-red-300\">{error}</p>\n          </div>\n        )}\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end\">\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\n          >\n            {loading ? (\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            ) : (\n              <CheckIcon className=\"h-5 w-5 mr-2\" />\n            )}\n            {loading ? 'Saving...' : 'Save Case'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default NewCase;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}