{% extends "lawyer_base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}

<div class="container mt-5"><hr/><hr/>
    <h2>Legal Research Assistant</h2>
    
    <!-- Form to input user query -->
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <textarea name="query" class="form-control" rows="3" placeholder="Enter your legal question here..."></textarea>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Submit</button>
    </form>
    
    <!-- Display Chat History -->
    <div class="chat-history mt-5">
        {% if chat_history %}
            <h4>Chat History:</h4>
            <div class="card">
                <div class="card-body">
                    {% for chat in chat_history %}
                        {% if chat.role == "user" %}
                            <div class="user-message">
                                <strong>User:</strong> {{ chat.text }}
                            </div>
                        {% else %}
                            <div class="model-response mt-2">
                                <strong>Assistant:</strong> {{ chat.text }}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <p>No chat history available.</p>
        {% endif %}
    </div>
</div>

{% endblock %}


